import java.sql.*;

class SQL{
  
  private Connection con;
  private Statement st;
  private ResultSet rs;
   int rows_affected,temp_score;
private BufferedReader in;
public String name,query;

//Connection to the Local Database
public SQL()
{
  rows_affected=0;
  try{
Class.forName("com.mysql.jdbc.Driver");
con=DriverManager.getConnection("jdbc:mysql://localhost:3306/test","root","");
st=con.createStatement();
in=createReader("C:\\xampp\\htdocs\\series\\WebPage\\Name.txt");
name=in.readLine();
  }
  catch(Exception e)
  {
  e.printStackTrace();
}

}

//Put specefic query to update the score in game.
public void putQuery(EvilController ec)
{
temp_score=ec.highscore;
try{
query="update gamescore set Highscore="+temp_score+" "+"where Name="+"\""+name+"\"";
println(query);
rows_affected=st.executeUpdate(query); 
}
catch(SQLException e){
e.printStackTrace();
}}

public int getQuery()
{
  try{
   query="select Highscore from gamescore where Name ="+"\""+name+"\"";
   println(query);
rs=st.executeQuery(query);
while(rs.next())
{
temp_score=rs.getInt(1);
}
println(temp_score);
}
  catch(Exception e)
  {
  e.printStackTrace();
  }
  finally
  {
  return temp_score;
  }
  
}

}